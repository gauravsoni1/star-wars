(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(9),r=a.n(o),s=(a(86),a(26)),c=a(35),i=a(36),m=a(47),u=a(37),p=a(48),d=a(141),h=a(77),g=a(143),E=a(154),f=a(144),_=a(155),P=a(53),v=a.n(P),w=function(e){var t="";return"error"===e.msg.type&&(t=v.a.error),l.a.createElement("div",{className:v.a.notification+" "+t},e.msg.message)},S=a(30),y=a.n(S),b=a(54),x=a.n(b),C=a(38),k=a.n(C),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={username:"",password:"",loginMessage:null,loading:!1},a.updateUsername=function(e){a.setState({username:e.target.value})},a.updatePassword=function(e){a.setState({password:e.target.value})},a.validateUser=function(){a.setState({loading:!0}),k.a.get("https://swapi.co/api/people/?search=".concat(a.state.username)).then(function(e){e.data.count>0?e.data.results.filter(function(e,t){return e.name===a.state.username&&e.birth_year===a.state.password}).length>0&&(localStorage.setItem("token","".concat(a.state.username+Date.now())),a.props.history.push("search")):(a.setState({loginMessage:{type:"error",message:"Login Failed"}}),a.setState({loading:!1}))})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:y.a.login},l.a.createElement(d.a,{item:!0,xs:4},l.a.createElement(h.a,{className:y.a.loginContainer},l.a.createElement(d.a,{item:!0,xs:12,className:y.a.loginHeader},l.a.createElement("img",{src:x.a,alt:"lightsaver"}),l.a.createElement(g.a,{variant:"h5"},"Login to Star Wars"),l.a.createElement("img",{src:x.a,alt:"lightsaver"})),l.a.createElement("hr",null),l.a.createElement(d.a,{item:!0,xs:12,className:y.a.loginItems},l.a.createElement("div",{className:y.a.loginInput},l.a.createElement(E.a,{value:this.state.username,onChange:this.updateUsername,label:"Enter Username"}),l.a.createElement(E.a,{value:this.state.password,onChange:this.updatePassword,label:"Enter Password",type:"password"})),this.state.loading?l.a.createElement(f.a,{className:y.a.progressIcon}):l.a.createElement(_.a,{variant:"contained",color:"primary",onClick:this.validateUser},"Login"),this.state.loginMessage?l.a.createElement(w,{msg:this.state.loginMessage}):null))))}}]),t}(n.Component),I=a(152),O=a(153),j=a(157),W=a(33),B=a.n(W),L=a(145),V=a(146),z=a(147),M=a(148),U=a(149),F=a(75),J=a.n(F),A=function(e){return l.a.createElement(h.a,{className:J.a.populationContainer},l.a.createElement(g.a,{variant:"h6"},e.title),l.a.createElement(L.a,null,l.a.createElement(V.a,null,l.a.createElement(z.a,null,l.a.createElement(M.a,null,"Name"),l.a.createElement(M.a,null,"Size"))),l.a.createElement(U.a,null,e.data.map(function(t){return l.a.createElement(z.a,{key:t.name,onClick:function(){return a=t,void(e.planetSelected&&"function"===typeof e.planetSelected&&e.planetSelected(a));var a}},l.a.createElement(M.a,null,t.name),l.a.createElement(M.a,null,t.population))}))))},H={small:2e4,medium:1e6},T=a(150),K=a(151),Q=function(e){return l.a.createElement(T.a,null,l.a.createElement(K.a,null,l.a.createElement(g.a,{variant:"h5",component:"h2"},e.selectedPlanet.name),l.a.createElement(g.a,{color:"textSecondary"},"Population - ",e.selectedPlanet.population),l.a.createElement(g.a,{color:"textSecondary"},"Climate - ",e.selectedPlanet.climate),l.a.createElement(g.a,{color:"textSecondary"},"Gravity - ",e.selectedPlanet.gravity),l.a.createElement(g.a,{color:"textSecondary"},"Climate - ",e.selectedPlanet.terrain),l.a.createElement(g.a,{color:"textSecondary"},"Surface Water - ",e.selectedPlanet.surface_water)))},D=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={selectedPlanet:null,smallPlanets:[],mediumPlanets:[],largePlanets:[],filteredPlanets:[{name:"Earth",population:"200123"},{name:"Jupiter",population:"123902"}],showPlanet:!1},a.sortPlanets=function(e){var t=[],n=[],l=[];e.forEach(function(e,a){e.population<=H.small||"unknown"===e.population?t.push(e):e.population>H.small&&e.population<=H.medium?n.push(e):l.push(e)}),a.setState({smallPlanets:t,mediumPlanets:n,largePlanets:l})},a.searchPlanets=function(e){k.a.get("https://swapi.co/api/planets/?search=".concat(e.target.value)).then(function(e){a.sortPlanets(e.data.results)})},a.hidePlanetView=function(){a.setState({showPlanet:!1})},a.planetSelected=function(e){a.setState({selectedPlanet:e,showPlanet:!0})},a.logout=function(){localStorage.removeItem("token"),a.props.history.push("/login")},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:B.a.searchPage},l.a.createElement(I.a,{position:"static"},l.a.createElement(O.a,{className:B.a.toolbar},l.a.createElement(g.a,{variant:"h5"},"Welcome Jedi"),l.a.createElement(_.a,{variant:"contained",color:"secondary",onClick:this.logout},"Logout"))),l.a.createElement("div",{className:B.a.body},l.a.createElement("div",{className:B.a.searchBox},l.a.createElement(E.a,{fullWidth:!0,label:"Search for planets",variant:"outlined",onChange:this.searchPlanets})),l.a.createElement(d.a,{className:B.a.populationView},this.state.smallPlanets.length>0?l.a.createElement(A,{title:"Small Planets (size < ".concat(H.medium,")"),data:this.state.smallPlanets,planetSelected:this.planetSelected}):null,this.state.mediumPlanets.length>0?l.a.createElement(A,{title:"Medium Planets (size ".concat(H.small,"-").concat(H.medium,")"),data:this.state.mediumPlanets,planetSelected:this.planetSelected}):null,this.state.largePlanets.length>0?l.a.createElement(A,{title:"Large Planets (size>".concat(H.medium,")"),data:this.state.largePlanets,planetSelected:this.planetSelected}):null),l.a.createElement(j.a,{open:this.state.showPlanet,onClose:this.hidePlanetView},l.a.createElement(d.a,{item:!0,xs:12},this.state.selectedPlanet?l.a.createElement(Q,{selectedPlanet:this.state.selectedPlanet}):null))))}}]),t}(n.Component),G=function(e){var t=null!==localStorage.getItem("token");return l.a.createElement(l.a.Fragment,null,t?l.a.createElement(s.b,e):l.a.createElement(s.a,{from:"/",to:"login"}))};var X=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(G,{path:"/search",component:D}),l.a.createElement(s.b,{path:"/login",exact:!0,component:N}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=a(34);r.a.render(l.a.createElement(Z.a,null,l.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},30:function(e,t,a){e.exports={login:"login_login__3K7ne",loginContainer:"login_loginContainer__29CNP",loginHeader:"login_loginHeader__KdO-s",loginItems:"login_loginItems__200CL",loginInput:"login_loginInput__2s4Fd",progressIcon:"login_progressIcon__1vdgI"}},33:function(e,t,a){e.exports={searchPage:"search_searchPage__nW-Th",toolbar:"search_toolbar__129wz",body:"search_body__1Wf41",searchBox:"search_searchBox__lTgQc",populationView:"search_populationView__3eA73"}},53:function(e,t,a){e.exports={notification:"notification_notification__337Vk",success:"notification_success__oQ9mf",error:"notification_error__5XuEy"}},54:function(e,t,a){e.exports=a.p+"static/media/lightsaber.888edd43.png"},75:function(e,t,a){e.exports={populationContainer:"populationTable_populationContainer__BfZxt"}},81:function(e,t,a){e.exports=a(112)},86:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.7805921e.chunk.js.map